!function(e){"use strict";if(!s)var s=function(e,s){var i,n,t,a;return function(){t=this,n=[].slice.call(arguments,0),a=new Date;var o=function(){var r=new Date-a;r<s?i=setTimeout(o,s-r):(i=null,e.apply(t,n))};i||(i=setTimeout(o,s))}};e(document).ready((function(){window.essbCurrentPinImageCount=0;if(essb_settings.force_pin_description&&essb_settings.pin_description&&e("img").each((function(){e(this).data("pin-description")||e(this).attr("data-pin-description",essb_settings.pin_description)})),essb_settings.pin_pinid_active&&essb_settings.pin_pinid&&e("img").each((function(){var s=e(this).data("pin-id")||"";s&&""!=s||e(this).attr("data-pin-id",essb_settings.pin_pinid)})),essb_settings.pin_force_active&&essb_settings.pin_force_image&&e("img").each((function(){if(e(this).attr("data-pin-media",essb_settings.pin_force_image),!e(this).data("pin-description")){var s="";e(this).attr("title")?s=e(this).attr("title"):e(this).attr("alt")&&(s=e(this).attr("alt")),essbPinImages.force_custompin&&!essbPinImages.custompin&&(essbPinImages.custompin=document.title),essbPinImages.custompin&&(s=essbPinImages.custompin),""==s&&(s=document.title),e(this).attr("data-pin-description",s)}e(this).data("pin-url")||e(this).attr("data-pin-url",encodeURI(document.URL))})),e(".essb-block-image").each((function(){var s=e(this).data("essb-pin-id")||"",i=e(this).data("essb-pin-description")||"";if("true"==(e(this).data("essb-pin-nopin")||"").toString())return e(this).find("img").attr("data-pin-nopin","true"),void e(this).find("img").addClass("no_pin");""!=s&&e(this).find("img").attr("data-pin-id",s),""!=i&&e(this).find("img").attr("data-pin-description",i)})),essb_settings.force_pin_thumbs){var i=window.essbReposiveImagesMap={},n=window.essbDetectAndLocateImageSize=function(s,n,a){a&&(i[n].responsive[s]={}),e("<img/>",{load:function(){i[n]&&(a?(i[n].responsive[s]={w:this.width,h:this.height,done:!0},t(n)):(i[n].originalSize={w:this.width,h:this.height,done:!0},t(n)))},src:s})},t=window.essbCompileTheDataPinImage=function(s){var n=0,t=0,o=0,r="";for(var m in i[s].responsive){var d=i[s].responsive[m]||{};n++,d.done&&(t++,(0==o||o<d.w)&&(o=d.w,r=m))}n==t&&i[s].original!=r&&i[s].originalSize.done&&o>i[s].originalSize.w&&(e('[data-pinpro-key="'+s+'"]').attr("data-pin-media",r),e('[data-pinpro-key="'+s+'"]').attr("data-media",r),e('[data-pinpro-key="'+s+'"]').attr("data-pin-url",window.location.href),e('[data-pinpro-key="'+s+'"]').removeClass("pin-process"),e('[data-pinpro-key="'+s+'"]').each(a))};e("img").each((function(){var s=e(this).attr("srcset")||"",t=Math.random().toString(36).substr(2,9),a=t;if(s&&""!=s){e(this).attr("data-pinpro-key",t),e(this).addClass("pin-process");var o=s.split(", "),r=e(this).attr("src")||"";i[a]={source:a,original:r,originalSize:{},responsive:{}},n(r,a);for(var m=0;m<o.length;m++)if(o[m]){var d=o[m].split(" "),p=d[0]||"",b=(d[1]||"").replace("w","");p&&Number(b)&&n(p,a,!0)}}}))}var a=function(){var s=e(this);if(!(essbPinImages.nolinks&&e(s).parents().filter("a").length||s.outerWidth()<Number(essbPinImages.min_width||0)||s.outerHeight()<Number(essbPinImages.min_height||0)||s.hasClass("no_pin")||s.hasClass("no-pin")||s.data("pin-nopin")||s.hasClass("pin-generated")||s.hasClass("pin-process")||s.hasClass("zoomImg")||s.hasClass("lazy-hidden"))){var i=e(s).prop("src")||"",n="",t=[],a="",o="",r=e(s).data("pin-id")||"";if(!(i.indexOf("data:image/svg+xml")>-1||i.indexOf("data:image/gif")>-1)){s.data("media")&&(i=s.data("media")),s.data("lazy-src")&&(i=s.data("lazy-src")),s.data("pin-media")&&(i=s.data("pin-media")),s.data("pin-description")?n=s.data("pin-description"):s.attr("title")?n=s.attr("title"):s.attr("alt")&&(n=s.attr("alt")),essbPinImages.force_custompin&&!essbPinImages.custompin&&(essbPinImages.custompin=document.title),essbPinImages.custompin&&(n=essbPinImages.custompin),""==n&&(n=document.title);var m="https://pinterest.com/pin/create/button/?url="+encodeURI(document.URL)+"&is_video=false&media="+encodeURI(i)+"&description="+encodeURIComponent(n);essbPinImages.legacy_share_cmd&&(m="https://pinterest.com/pin/create/bookmarklet/?url="+encodeURI(document.URL)+"&media="+encodeURI(i)+"&title="+encodeURIComponent(n)+"&description="+encodeURIComponent(n)+"&media="+encodeURI(i)),m.indexOf("'")>-1&&(m=m.replace(/'/g,"%27")),""!=r&&(m="https://www.pinterest.com/pin/"+r+"/repin/x/");var d=s.attr("class"),p=s.attr("style");if("icon_hover"==essbPinImages.button_style&&(a=" essb_hide_name"),"icon"==essbPinImages.button_style&&(a=" essb_force_hide_name essb_force_hide"),"button_name"==essbPinImages.button_style&&(a=" essb_hide_icon"),"vertical"==essbPinImages.button_style&&(a=" essb_vertical_name"),essbPinImages.button_size&&(o=" essb_size_"+essbPinImages.button_size),essbPinImages.animation&&(o+=" "+essbPinImages.animation),essbPinImages.position&&(o+=" essb_pos_"+essbPinImages.position),essbPinImages.mobile_position&&(o+=" essb_mobilepos_"+essbPinImages.mobile_position),essbPinImages.visibility&&"always"==essbPinImages.visibility&&(o+=" essb_always_visible"),s.removeClass().attr("style","").wrap('<div class="essb-pin" />'),""!=d&&s.parent(".essb-pin").addClass(d),""!=p&&s.parent(".essb-pin").attr("style",p),window.essbCurrentPinImageCount++,s.parent(".essb-pin").addClass("essb-pinid-"+window.essbCurrentPinImageCount.toString()),essbPinImages.reposition){var b=e(s).width();Number(b)&&!isNaN(b)&&Number(b)>0&&s.parent(".essb-pin").css({"max-width":b+"px"})}var c=(new Date).getTime().toString(36),l=essbPinImages.svgIcon?"essb_icon_svg_pinterest":"essb_icon_pinterest";t.push('<div class="essb_links essb_displayed_pinimage essb_template_'+essbPinImages.template+o+" essb_"+c+'" data-essb-position="pinit" data-essb-postid="'+(essb_settings.post_id||"")+'" data-essb-instance="'+c+'">'),t.push('<ul class="essb_links_list'+(""!=a?" "+a:"")+'">'),t.push('<li class="essb_item essb_link_pinterest nolightbox'+(essbPinImages.svgIcon?" essb_link_svg_icon":"")+'">'),t.push('<a class="nolightbox'+(essbPinImages.template_a_class?" "+essbPinImages.template_a_class:"")+'" rel="noreferrer noopener nofollow" href="'+m+'" onclick="essb.window(&#39;'+m+"&#39;,&#39;pinpro&#39;,&#39;"+c+'&#39;); return false;" target="_blank"><span class="essb_icon '+l+(essbPinImages.template_icon_class?" "+essbPinImages.template_icon_class:"")+'">'+(essbPinImages.svgIcon||"")+'</span><span class="essb_network_name">'+(essbPinImages.text?essbPinImages.text:"Pin")+"</span></a>"),t.push("</li>"),t.push("</ul>"),t.push("</div>"),s.after(t.join("")),s.addClass("pin-generated"),s.parent(".essb-pin").hasClass("lazyloading")&&s.parent(".essb-pin").removeClass("lazyloading")}}};if("undefined"!=typeof essbPinImages&&e("body").hasClass("tcb-edit-mode")&&(essbPinImages.active=!1),"undefined"!=typeof essbPinImages&&essbPinImages.active){essbPinImages.min_width&&Number(essbPinImages.min_width)||(essbPinImages.min_width=300),essbPinImages.min_height&&Number(essbPinImages.min_height)||(essbPinImages.min_height=300),e(window).width()<720&&(Number(essbPinImages.min_width_mobile)&&(essbPinImages.min_width=Number(essbPinImages.min_width_mobile)),Number(essbPinImages.min_height_mobile)&&(essbPinImages.min_height=Number(essbPinImages.min_height_mobile))),e(".essb-pin.tve_image").length&&(e(".essb-pin.tve_image .essb_links").remove(),e(".essb-pin img").removeClass("pin-generated")),e(".rll-youtube-player img").each((function(){e(this).addClass("no-pin")})),essbPinImages.hideon&&e(essbPinImages.hideon).each((function(){e(this).addClass("no-pin")})),window.addEventListener("LazyLoad::Initialized",(function(s){e(".rll-youtube-player img").each((function(){e(this).addClass("no-pin")}))}));var o=function(){if(e(".rll-youtube-player img").each((function(){e(this).addClass("no-pin")})),essbPinImages.selector)e(essbPinImages.selector).each(a);else{if(!e(".essb-pinterest-images").length)return;e(".essb-pinterest-images").parent().find("img").each(a)}};if(essbPinImages.lazyload&&e(window).on("scroll",s(o,10)),essbPinImages.optimize_load){const r=["keydown","mousedown","mousemove","wheel","touchmove","touchstart","touchend"];function m(){r.forEach((function(e){window.removeEventListener(e,m,{passive:!0})})),document.removeEventListener("visibilitychange",m),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()}function d(){setTimeout(o,1)}r.forEach((function(e){window.addEventListener(e,m,{passive:!0})})),document.addEventListener("visibilitychange",m)}else setTimeout(o,1)}("undefined"!=typeof essbPinImages&&!essbPinImages.active||"undefined"==typeof essbPinImages)&&e(".essb-pin.tve_image").length&&(e(".essb-pin.tve_image .essb_links").remove(),e(".essb-pin img").removeClass("pin-generated"))}))}(jQuery);